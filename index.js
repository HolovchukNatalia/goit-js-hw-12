import{S as w,i as y,a as L}from"./assets/vendor-BDaiwwc1.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function e(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(t){if(t.ep)return;t.ep=!0;const n=e(t);fetch(t.href,n)}})();const p=document.querySelector(".gallery"),S=new w(".gallery a",{captionsData:"alt",captionDelay:250,overlayOpacity:.8,showCounter:!1,animationSlide:!0});function f(o){if(o.length===0){y.show({position:"topRight",backgroundColor:"red",message:"Sorry, there are no images matching your search query. Please, try again!"}),p.innerHTML="";return}const r=o.map(e=>`<li class="gallery-item">
        <a href="${e.largeImageURL}" class="gallery-link">
          <img class="gallery-img" src="${e.webformatURL}" alt="${e.tags}"/>
        </a>
        <div class="gallery-stats">
          <p>Likes <span>${e.likes}</span></p>
          <p>Views <span>${e.views}</span></p>
          <p>Comments <span>${e.comments}</span></p>
          <p>Downloads <span>${e.downloads}</span></p>
        </div>
      </li>`).join("");p.insertAdjacentHTML("beforeend",r),S.refresh()}const q=document.querySelector(".load-more-btn");q.style.display="none";let a=1,g=40,i,h="";function v(){a=1}function P(o){h=o}function $(){a+=1}const k="48843638-b89903974de20d086a3125d9e",M="https://pixabay.com/api/";async function b(o,r){try{const e=await L.get(M,{params:{key:k,q:o,image_type:"photo",orientation:"horizontal",safesearch:!0,page:r,per_page:g}});return i=Math.ceil(e.data.totalHits/g),e.data.hits}catch(e){return console.error("Error fetching images:",e),[]}}const C=document.querySelector(".form"),m=document.querySelector(".input"),u=document.querySelector(".loader"),I=document.querySelector(".gallery"),s=document.querySelector(".load-more-btn"),d=document.querySelector(".loader-more");d.style.display="none";function O(){I.innerHTML=""}C.addEventListener("submit",async o=>{o.preventDefault();const r=m.value.trim();if(r===""){y.show({message:"Please enter a search query",position:"topRight",backgroundColor:"red"});return}u.style.display="block",O(),v(),P(r),m.value="",s.style.display="none";try{const e=await b(r);f(e),u.style.display="none",a<i&&(s.style.display="block")}catch(e){console.log(e)}});s.addEventListener("click",async o=>{var r;o.preventDefault(),s.style.display="none",d.style.display="block";try{$();const e=await b(h,a);f(e);const l=(r=document.querySelector(".gallery-item"))==null?void 0:r.getBoundingClientRect().height;if(l&&window.scrollBy({top:2*l,behavior:"smooth"}),d.style.display="none",a>=i){y.show({position:"topRight",backgroundColor:"red",message:"We're sorry, but you've reached the end of search results."}),s.style.display="none";return}else a<i&&(s.style.display="block")}catch(e){console.log(e),u.style.display="none"}});
//# sourceMappingURL=index.js.map
